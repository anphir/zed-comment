= Zed Comment
:imagesdir: doc/image

[abstract]
An experimental extension for the https://zed.dev/[Zed editor] to enable highlighting of comments.


== Overview

The extension implements a generic "`comment language`" which may be injected in other Zed language extensions to enable highlighting of comments annotated with `TODO`, `FIXME`, ... .
This works similar to highlighting e.g. JavaScript embedded in an HTML document.

It uses the https://github.com/stsewd/tree-sitter-comment.git[tree-sitter-commit] grammar, specific https://github.com/tree-sitter/tree-sitter.git[Tree-sitter] highlighting queries and a set of matching highlight style definitions.

.Zed highlighting single line comments.
image::screenshot.png[]


== Current State

While https://github.com/stsewd/tree-sitter-comment.git[tree-sitter-commit] supports a wide range of comment tag names, in its current experimental state this extension highlights only a selected few of them, partitioned into four groups.

Note group:: `INFO`, `TODO`

Todo group:: `TODO`, `WIP`

Warning group:: `WARN`, `WARNING`

Error group:: `BUG`, `ERROR`, `FIXME`

Each group uses two highlighting styles, one for the comment tag name, the other for the comment text.
The optional comment tag user and the surrounding brackets use the default comment highlighting.

The styles need to be added to Zed's `settings.json`, otherwise the default comment style will be used.
While the styles use fixed names (e.g. `comment.note.name`), color etc. can be customized.

The link:doc/dev_installation_guide.adoc[guide] for trying out a development extension installation contains an example of the required settings.


== Usage

This "`comment language extension`" is only one piece of the puzzle.
Each Zed extension for a language featuring comments which shall be highlighted needs to be adapted to use the comment extension.
This is done by defining a "`language injection`".
Zed's online documentaton contains a https://zed.dev/docs/extensions/languages#code-injections[short description] of this mechanism.

That means just installing the "`comment language extension`" will not cause any comments to be highlighted.
At least with version 0.190.5 of Zed there seems to be no way to trigger comment highlighting from "`outside`" a language extension.
The extensions need to be changed and updated versions installed.
For many languages this change should be small.

Zed users who are willing to do a bit of tinkering and install development extensions may already give comment highlighting a try.
The procedure is described in the link:doc/dev_installation_guide.adoc[guide] for trying out a development extension installation.
